# this is prep_arc.Rmd
create arctic repo. 

@jafflerbach created the shapefile from chats with M. Burgass. See Issue #516: https://github.com/OHI-Science/issues/issues/516 and @master branch for older attempts. 

## 1. setup
Just need to rename a few regions

```{r setup, eval=F}
setwd('~/github/ohi-webapps')

source('create_init.R')            # load all libraries, set directories relevant to all keys
source('create_functions.R')       # all functions for creating and updating repos and webapps

key <- 'arc'

dir_spatial    = file.path(dir_M, 'git-annex/clip-n-ship', key, 'spatial') 
dir_custom_tmp = file.path(dir_spatial, 'custom/final_jamie') 
dir_custom     = file.path(dir_spatial, 'custom') 

```

## Read shapefile, update name, resave

```{r explore shapefiles, eval=F}

## inspect
shp = readOGR(dsn = dir_custom_tmp, layer = 'arctic_eezs')
shp@data
  
## rename a few rgn_names
shp@data$rgn_name = as.character(shp@data$rgn_name)
shp@data$rgn_name[shp@data$rgn_name == 'norway']   = 'Norway'
shp@data$rgn_name[shp@data$rgn_name == 'svalbard'] = 'Svalbard'
shp@data$rgn_name[shp@data$rgn_name == 'west']     = 'West Greenland'
shp@data$rgn_name[shp@data$rgn_name == 'east']     = 'East Greenland'

shp@data <- shp@data %>%
  select(rgn_id, rgn_name, country, area_km2)

writeOGR(shp, dsn = dir_custom, layer = 'arctic_eezs_final', driver = 'ESRI Shapefile', overwrite=TRUE) 

```
